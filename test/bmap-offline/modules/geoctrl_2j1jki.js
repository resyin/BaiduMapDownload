/**/_jsload2&&_jsload2('geoctrl', 'A.extend(Gc.prototype,{initialize:function(a){var b=this;Cc.prototype.initialize.call(b,a);b.Fa();b.Rq={"default":D.oa+"images/geolocation-control/mobile/default-40x40.png",loading:D.oa+"images/geolocation-control/mobile/loading-40x40.gif",success:D.oa+"images/geolocation-control/mobile/success-40x40.png",fail:D.oa+"images/geolocation-control/mobile/fail-40x40.png"};b.fj=b.R.children[0];b.$C=b.fj.children[0];b.Lo=b.$C.children[0];b.YC=b.fj.children[1];b.NK=b.YC.children[0].children[0];var c;b.P.addEventListener("moveend", function(){if(c){var a=b.P.Nb();a.lng===c.lng&&a.lat===c.lat?b.nr(b.Rq.success):(b.nr(b.Rq["default"]),b.jQ())}});A.V(b.Lo,"click",function(){b.nr(b.Rq.loading);(new Geolocation({timeout:1E4})).getCurrentPosition(function(e){b.nr(b.Rq.success);if(e.address&&b.m.B_){var f="";e.address.city?f+=e.address.city:e.address.province&&(f+=e.address.province);e.address.district&&(f+=e.address.district);e.address.street&&(f+=e.address.street);e.address.street_number&&(f+=e.address.street_number);b.FT(f)}var f= new Q(e.longitude,e.latitude),g=b.m.rM?b.m.rM:new Zc(D.oa+"images/geolocation-control/point/position-icon-14x14.png",new N(14,14));window[a.ca+"locationMarker"]&&a.Ob(window[a.ca+"locationMarker"]);g=new W(f,{icon:g});c=f;b.aD=f;a.Pa(g);window[a.ca+"locationMarker"]=g;a.od(f,15);e.address&&(b.Hr={province:e.address.province||"",city:e.address.city||"",district:e.address.district||"",street:e.address.street||"",streetNumber:e.address.street_number||""},Ra(7001,{longitude:e.longitude,latitude:e.latitude, accuracy:e.accuracy}));e=new P("locationSuccess");e.point=b.aD;e.addressComponent=b.Hr;b.dispatchEvent(e)},function(a){b.nr(b.Rq.fail);var c=new P("locationError");c.code=a.errorCode;c.message=a.qk;b.dispatchEvent(c)})});return b.R},location:function(){var a=this;a.v0.push({});(new Geolocation({timeout:1E4})).getCurrentPosition(function(b){a.aD=new Q(b.longitude,b.latitude);b.address&&(a.Hr={province:b.address.province||"",city:b.address.city||"",district:b.address.district||"",street:b.address.street|| "",streetNumber:b.address.street_number||""});b=new P("locationSuccess");b.point=a.aD;b.addressComponent=a.Hr;a.dispatchEvent(b)},function(b){var c=new P("locationError");c.code=b.errorCode;c.message=b.qk;a.dispatchEvent(c)})},SW:function(){return this.Hr?this.Hr:q},HP:function(){this.P?this.Ge(this.P):this.map&&this.Ge(this.map)},Fa:function(){Cc.prototype.Fa.call(this);this.R.style.cssText="height: 32px;";this.R.innerHTML=this.Aq()},Aq:function(){return[\'<div class="BMap_geolocationContainer" style="height: 32px; margin: 0px; box-sizing: border-box; border: 1px solid #d9d7d5; border-radius: 3px; -webkit-box-shadow: 1px 1px 1px rgba(0,0,0,.2); overflow: hidden;">\', \'<div class="BMap_geolocationIconBackground" style="float: left; width: 32px; height: 32px; background-image: url(\\\'\'+D.oa+"images/geolocation-control/mobile/gradient-bg-1x64.png\'); background-size: 1px 32px; background-repeat: repeat-x;\\">",\'<div class="BMap_geolocationIcon" style="width: 32px; height: 32px; cursor: pointer; background-image: url(\\\'\'+D.oa+"images/geolocation-control/mobile/default-40x40.png\'); background-size: 20px 20px; background-repeat: no-repeat; background-position: center center;\\"></div>", "</div>",\'<div class="BMap_geolocationAddress" style="display: none; float: left; min-width: 50px; padding-left: 10px; padding-right: 10px; border-left: 1px solid #d9d7d5; background-image: url(\'+D.oa+\'images/geolocation-control/mobile/gradient-bg-1x64.png); background-size: 1px 32px; background-repeat: repeat-x;">\',\'<div style="height: 32px; display: table-cell; vertical-align: middle;"><div class="BMap_geolocationAddressText" style="font-size: 12px; color: #666666; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; display: block; min-width: 50px; max-width: 200px;"></div></div></div></div>\'].join("")}, nr:function(a){this.Lo.style.backgroundImage="url(\'"+a+"\')"},FT:function(a){this.YC.style.display="block";this.NK.textContent=a},jQ:function(){this.NK.textContent="";this.YC.style.display="none"}});Gc.prototype.location=Gc.prototype.location;Gc.prototype.getAddressComponent=Gc.prototype.SW; ');
