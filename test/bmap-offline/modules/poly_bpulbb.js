/**/_jsload2&&_jsload2('poly', 'function th(a,b){return!a||!b?0:Math.round(Math.sqrt(Math.pow(a.lng-b.lng,2)+Math.pow(a.lat-b.lat,2)))}function uh(a,b){ib.call(this);this.point=a;this.type=b;this.K={}}A.lang.xa(uh,ib,"Vertex"); A.extend(uh.prototype,{initialize:function(a){this.map=a;var b="";this.point=Ya(this.point,this.map.M.w2);var b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.UG=this.ba=document.createElement("div");c.className=b;a.Rf().FO.appendChild(c);this.Zz();return c},draw:function(){var a=this.map.Ye(this.point);this.UG.style.left=a.x-5+"px";this.UG.style.top=a.y-5+"px"},va:function(a){if(a instanceof Q||a instanceof J)this.point=this.K.point=this.map?Ya(a,this.map.M.Ia):a, this.draw()},Oj:x("point"),la:function(){var a=this.map;return a?cb(this.point,a.M.Ia):this.point},Zz:function(){function a(a,b){b.pixel=b.$a=a.$a;b.point=b.point=a.point;b.pointN=b.sf=a.sf;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new R(b,c)}if(this.ba&&!this.ba.Gi){this.ba.Gi=p;var c=this.map,e=this,f=0,g=0,i=0,k={x:0,y:0};this.es=function(a){na(a);if(2!=a.button){e.ol=p;var k=c.yc(e.point),o=b(a);f= o.x-k.x;g=o.y-k.y;i=eb();e.map.aa.Ju=e;A.V(document,"mousemove",e.dj);A.V(document,"mouseup",e.cj);A.V(document,"touchmove",e.dj);A.V(document,"touchend",e.cj);e.ba&&e.ba.setCapture&&e.ba.setCapture();e.ba.style.cursor=e.K.Gd;"touchstart"==a.type&&ma(a)}};this.dj=function(i){if(e.ol){i=b(i);k=i=new R(i.x-f,i.y-g);e.wz=i;var n=e.map.Zb(i),o=e.map.kg(i),n={$a:i,point:n,sf:o};e.Bl=e.Cl=0;if(20>=i.x||i.x>=e.map.width-20||50>=i.y||i.y>=e.map.height-10){if(20>=i.x?e.Bl=8:i.x>=e.map.width-20&&(e.Bl=-8), 50>=i.y?e.Cl=8:i.y>=e.map.height-10&&(e.Cl=-8),!e.Fe)e.Fe=setInterval(function(){c.Cg(e.Bl,e.Cl,{noAnimation:p});var a=c.Zb(e.wz);e.va(a)},30)}else e.Fe&&(clearInterval(e.Fe),e.Fe=q),e.va(o);e.gl||(e.dispatchEvent(a(n,new P("ondragstart"))),e.gl=p);e.dispatchEvent(a(n,new P("ondragging")))}};this.cj=function(){e.ba&&e.ba.releaseCapture&&e.ba.releaseCapture();e.ol=t;e.map.aa.Ju=q;A.cd(document,"mousemove",e.dj);A.cd(document,"mouseup",e.cj);A.cd(document,"touchmove",e.dj);A.cd(document,"touchend", e.cj);f=g=0;e.Fe&&(clearInterval(e.Fe),e.Fe=q);if(100<=eb()-i&&(2<k.x||2<k.y))e.gl=t,e.dispatchEvent(a({$a:e.map.yc(e.la()),point:e.la(),sf:e.Oj()},new P("ondragend"))),k.x=k.y=0;e.Ll();e.ba&&(e.ba.style.cursor=e.K.gf?"pointer":"")};A.V(this.ba,"mousedown",this.es);A.V(this.ba,"touchstart",this.es)}}});A.extend(ad.prototype,{WP:function(a){return this.repeat?this.YP(a):this.XP(a)},YP:function(a){var b=this.repeat,c=[],e,f,g;if(this.oI){e=Math.floor(1/this.repeat)+1;for(f=0;f<e;f++)c.push(vh(a,1-b*f,p))}else{g=a.Ri[a.Ri.length-1];e=Math.floor(g/b)+1;for(f=0;f<e;f++)c.push(vh(a,g-f*b,t))}return c},XP:function(a){return[vh(a,this.Wj,this.nI)]},hide:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length-1;0<=a;a--)this.Uc[a].$()},show:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length- 1;0<=a;a--)this.Uc[a].show()}});function vh(a,b,c){var e=a.ka;if(c){if(0>=b)return{point:e[0],index:1};if(1<=b)return{point:e[e.length-1],index:e.length-1};c=a.sS*b;b=wh(c,a.Gl);a=(c-a.Gl[b-1])/(a.Gl[b]-a.Gl[b-1])}else{c=b;b=a.Ri[a.Ri.length-1];if(0>=c)return{point:e[0],index:1};if(c>=b)return{point:e[e.length-1],index:e.length-1};b=wh(c,a.Ri);a=(c-a.Ri[b-1])/(a.Ri[b]-a.Ri[b-1])}c=e[b-1];e=e[b];return{point:new Q(c.lng+(e.lng-c.lng)*a,c.lat+(e.lat-c.lat)*a),index:b}} A.jc.indexOf=function(a,b,c){var e=a.length,c=c|0;for(0>c&&(c=Math.max(0,e+c));c<e;c++)if(c in a&&a[c]===b)return c;return-1};function wh(a,b){var c=xh(b.concat(a));return A.jc.indexOf(c,a)}function xh(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=xh(c),a=xh(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};A.extend(Xc.prototype,{initialize:function(a){a&&this.Wu&&a.addEventListener("onmousemove",this.Wu);a=ib.prototype.initialize.call(this,a);this.K.kf===p&&(this.jk(),this.Pl());return a},Cj:function(){this.ba=(this.zn=yh.ws(this.map)).lo()},Yc:x("ba"),ga:function(){function a(a,b){var c=a.srcElement||a.target,i=Gb(),k=a.pageX?a.pageX:a.clientX+i[1],i=a.pageY?a.pageY:a.clientY+i[0];if(a&&b&&k&&i&&c){var c=A.lang.Nc(c.ca).map,m=A.U.la(c.ab);b.$a=new R(k-m.left,i-m.top);b.point=c.Zb(b.$a);b.sf=c.kg(b.$a); b.pixel=b.$a;b.point=b.point;b.pointN=b.sf}return b}var b=this.ba,c=this;"canvas"!==yh.ws(this.map).Vo()&&!I()&&(c.K.gf&&(b.style.cursor="pointer",A.V(b,"click",function(b){c.WH&&c.WH.Sb(c.map.Ou())&&c.dispatchEvent(a(b,la(new P("onclick"),b)))}),A.V(b,"dblclick",function(b){c.dispatchEvent(a(b,la(new P("ondblclick"),b)))}),(!A.fa.Re||4>A.fa.Re)&&A.V(this.ba,"contextmenu",function(b){c.dispatchEvent(a(b,la(new P("onrightclick"),b)))})),A.V(b,"mousedown",function(b){c.dispatchEvent(a(b,la(new P("onmousedown"), b)));c.WH=c.map.Ou()}),A.V(b,"mouseup",function(b){c.dispatchEvent(a(b,la(new P("onmouseup"),b)))}),A.V(this.ba,"mouseup",function(b){c.dispatchEvent(a(b,la(new P("onmouseup"),b)));A.fa.Re>=4&&(b.button===2&&c.K.gf)&&c.dispatchEvent(a(b,la(new P("onrightclick"),b)))}));b=q;this.Gi||(this.Gi=p,this.Wu=function(a){if(c.map&&!c.map.aa.Ju){var b=c.RR(a.point),g=parseFloat(b.Ga),i;if(g<c.K.AM){i=c.Va.wx?new P("onmousemove"):new P("onmouseover");c.Va.ZL=t;c.Va.wx=p}else if(!c.Va.ZL&&c.Va.wx){i=new P("onmouseout"); c.Va.wx=t;c.Va.ZL=p}if(i){if(!(c instanceof od)&&i.type==="onmousemove"&&c.Va.wx===p&&(g===0||g>c.K.AM)){i.pixel=i.$a=a.$a;i.point=i.point=a.point;i.pointN=i.sf=a.sf}else{i.point=i.point=this.XM(b.$a);i.pixel=i.$a=this.yc(i.point);i.pointN=i.sf=this.TS(b.$a)}c.dispatchEvent(i)}}},this.map.addEventListener("onmousemove",this.Wu),this.addEventListener("mouseover",u()),this.addEventListener("mouseout",u()))},draw:function(a){if(this.ba&&this.zn){var b;if(this.K.PW){this.XC=[];b=q;for(var c=0;c<this.ka.length- 1;c++){var e=this.XU(this.ka[c],this.ka[c+1],b);b=e[e.length-1]&&e[e.length-1].mh;this.XC=this.XC.concat(e)}b=this.mH(this.XC)}else if(this.K.iE&&0<this.ka.length){this.Zs=[];b=q;for(c=0;c<this.ka.length-1;c++)this.Zs.push({point:this.ka[c],mh:b||T.Wa(this.ka[c])}),e=b||T.Wa(this.ka[c]),b=T.Wa(this.ka[c+1]),15437726<th(b,e)&&(b.lng=b.lng<e.lng?b.lng+rb:b.lng-rb),this.Zs.push({point:this.ka[c+1],mh:b}),b=this.Zs[this.Zs.length-1].mh;b=this.mH(this.Zs)}else b=this.Pu(this.ka);"canvas"===this.zn.Kb&& this.vv?(this.vv(),this.zn.le(this.ba,b,this.K)):this.zn.le(this.ba,b);this instanceof od&&this.K.fi&&this.VQ(a)}},mb:function(){this.map&&(this.initialize(this.map),this.ba.style.WebkitUserSelect="none",this.draw())},Pu:function(a){var b=this.map,c=[],e=b.te(),f=this.te();if(!e.Os(f)||0===a.length||!this.ba||!this.Oc())return[c];this.K.kf||(e=this.lm(b.ja()),this.ef[e]?a=this.ef[e]:(a=zh(a,this.wk(b.ja())),a=this.ef[e]=a));e=this.K.t0;c.push(b.Ye(a[0],q,e));for(var g=f=1,i=a.length;f<i;f++){var k= b.Ye(a[f],q,e);k.Sb(c[g-1])||(c.push(k),g++)}return[c]},z1:function(a){if(a&&0<a.length){for(var b=[],c=q,e=0;e<a.length-1;e++){b.push({point:a[e],mh:c||T.Wa(a[e])});var f=c||T.Wa(a[e]),c=T.Wa(a[e+1]);30037726<th(c,f)&&(c.lng=c.lng<f.lng?c.lng+rb:c.lng-rb);b.push({point:a[e+1],mh:c});c=b[b.length-1].mh}return b}},lm:function(a){return this.K.lm?this.K.lm(a):6>a?0:10>a?1:15>a?2:3},wk:function(a){return this.K.wk?this.K.wk(a):Xc.xE[this.lm(a)]},or:function(a){this.ef.length=0;a=Xc.Sw(a);this.bo=a.slice(0, a.length-1);this.ka=a.slice(0);this.zh();this.draw();this.dispatchEvent(new P("onlineupdate"))},XU:function(a,b,c){var e=[];e.push({point:a,mh:c||T.Wa(a)});var f=c||T.Wa(a);if(a.Sb(b)||25E4>T.uk(a,b)){var c=T.Wa(b),g=th(c,f);30037726<g&&(c.lng=c.lng<f.lng?c.lng+rb:c.lng-rb);c&&e.pop();e.push({point:b,mh:c});return e}for(var g=T.ue(U(a.lng),U(a.lat),U(b.lng),U(b.lat)),c=Math.round(g/15E4),i=this.JJ(a,b),k=0;k<c;k++){var m=this.KJ(a,b,k/c,i),n=T.Wa(m),g=th(n,f);30037726<g&&(n.lng=n.lng<f.lng?n.lng+ rb:n.lng-rb);e.push({point:m,mh:n});f=n}c=T.Wa(b);g=th(c,f);30037726<g&&(c.lng=c.lng<f.lng?c.lng+rb:c.lng-rb);e.push({point:b,mh:c});return e},le:function(a){this.or(a);this.K.kf===p&&(this.jk(),this.Pl())},Om:function(a,b){b&&this.ka[a]&&(this.ef.length=0,this.ka[a]=new Q(b.lng,b.lat),this.zh(),this.K.kf===p&&(this.jk(),this.Pl()),this.draw(),this.dispatchEvent(new P("onlineupdate")))},setStrokeColor:function(a){this.K&&(this.K.strokeColor=a);this.Il("strokecolor",a)},Bp:function(a){0<a&&(this.K.nc= a,this.Il("strokeweight",a),"dashed"===this.kL()&&(this.map&&"svg"===yh.ws(this.map).Vo())&&this.Il("strokestyle","dashed"))},zp:function(a){a===l||(1<a||0>a)||(this.K.ud=a,this.map&&this.Il("strokeopacity",a))},zt:function(a){1<a||0>a||(this.K.tg=a,this.Il("fillopacity",a))},Ap:function(a){"solid"!==a&&"dashed"!==a||(this.K.strokeStyle=a,this.Il("strokestyle",a))},setFillColor:function(a){this.K.fillColor=a||"";this.Il("fillcolor",a)},Il:function(a,b){this.zn&&(this.zn.setAttribute(this.ba,a,b|| "",this.lL()),this.dispatchEvent(new P("onlineupdate")))},Pl:function(){var a=this;if(!a.oc.length)for(var b=this.tL(),c=function(b){a.kv(b)},e=u(),f=function(b){a.EA(b)},g=0,i=b.length;g<i;g++){var k=b[g],m=new uh(k.zb,k.ra);m.addEventListener("ondragging",c);m.addEventListener("ondragstart",e);m.addEventListener("ondragend",f);m.index=g;m.ra=k.ra;this.oc.push(m);this.map&&this.map.Pa(m)}},jk:function(){for(var a;a=this.oc.pop();)this.map.Ob(a);this.oc.length=0},tL:function(){for(var a=[],b=0,c= this.ka.length;b<c;b++){var e=this.ka[b];a.push({zb:e,ra:0});if(b<c-1){var f=this.ka[b+1],e=new Q((e.lng+f.lng)/2,(e.lat+f.lat)/2);a.push({zb:e,ra:1})}}return this.Sc=a},I1:u(),EA:function(a){this.Va.aj&&(this.map.Ob(this.Va.aj),delete this.Va.aj);this.Va.si&&(this.map.Ob(this.Va.si),delete this.Va.si);this.Va.oi&&(this.map.Ob(this.Va.oi),delete this.Va.oi);var b=a.sf,a=a.currentTarget.index,c;if(0!==a%2){this.rz(a);this.$p(a,b,0);var e=Ya(this.Sc[a-1].zb,this.map.M.Ia);c=Ya(this.Sc[a+1].zb,this.map.M.Ia); e=this.qs(e,b);c=this.qs(b,c);this.$p(a,e,1);this.$p(a+2,c,1);a=Math.ceil(a/2);c=this.ka.slice();a=c.splice(a,this.ka.length-a);c[c.length]=b;c=c.concat(a)}else this.Sc[a].zb=b,0<=a-2&&(e=Ya(this.Sc[a-2].zb,this.map.M.Ia),e=this.qs(e,b),this.oc[a-1].show(),this.oc[a-1].va(e)),a+2<this.Sc.length&&(c=Ya(this.Sc[a+2].zb,this.map.M.Ia),c=this.qs(b,c),this.oc[a+1].show(),this.oc[a+1].va(c)),this instanceof nd&&this.Sc.length-1===a&&(this.rz(0),this.$p(0,b,0),this.rz(1),this.$p(1,this.qs(Ya(this.Sc[0].zb, this.map.M.Ia),Ya(this.Sc[1].zb,this.map.M.Ia)),1),this.oc[0].ba.style.zIndex="-10000000"),a/=2,this.ka.splice(a,1,b),this instanceof nd&&this.ka.length-1===a&&this.ka.splice(0,1,b),c=this.ka;b=0;for(a=this.oc.length;b<a;b++)this.oc[b].index=b;this.ka=c;this.or(c)},$p:function(a,b,c){var e=this;this.Sc.splice(a,0,{zb:b,ra:c});b=new uh(b,c);b.addEventListener("ondragging",function(a){e.kv(a)});b.addEventListener("ondragstart",u());b.addEventListener("ondragend",function(a){e.EA(a)});b.index=a;b.ra= c;this.oc.splice(a,0,b);this.map.Pa(b)},rz:function(a){this.map.Ob(this.oc[a]);this.Sc.splice(a,1);this.oc.splice(a,1)},qs:function(a,b){return new J((a.lng+b.lng)/2,(a.lat+b.lat)/2)},RR:function(a){var b,c,e,f,g,i,k=[],m=this.map.Ye(a),k=this.Pu(this.ka)[0],n=k.length;if(1<n){for(f=1;f<n;f++){var o=k[f-1],s=k[f];if(o&&s){o.x!==s.x?(g=(s.y-o.y)/(s.x-o.x),g=Math.abs(g*m.x+(s.y-g*s.x)-m.y)/Math.sqrt(g*g+1)):g=Math.abs(m.x-s.x);var v=Math.pow(s.y-o.y,2)+Math.pow(s.x-o.x,2),s=Math.pow(s.y-m.y,2)+Math.pow(s.x- m.x,2),o=Math.pow(o.y-m.y,2)+Math.pow(o.x-m.x,2),w=Math.pow(g,2);s-w+o-w>v&&(g=Math.sqrt(Math.min(s,o)));if(b==q||b>g)c=Math.sqrt(o-w)/Math.sqrt(v),e=Math.sqrt(s-w)/Math.sqrt(v),b=g,i=f;b=Math.min(b,g)}}if(!(this instanceof od)){g=m=0;v=this.ka;for(f=0;f<n;f++)m=f===n-1?0:m+1,v[f].lat!==v[m].lat&&((a.lat>=v[f].lat&&a.lat<v[m].lat||a.lat>=v[m].lat&&a.lat<v[f].lat)&&a.lng<(v[m].lng-v[f].lng)*(a.lat-v[f].lat)/(v[m].lat-v[f].lat)+v[f].lng)&&g++;b=Math.min(b,0<g%2?0:b)}1<c&&(c=1);1<e&&(c=0);a=k[i-1].y- k[i].y;f=k[i-1].x-(k[i-1].x-k[i].x)*c;g=k[i-1].y-a*c}return{$a:new R(f,g),Ga:b}},show:function(){ib.prototype.show.call(this);this.draw();this.K.kf===p&&this.Pl()},$:function(){ib.prototype.$.call(this);this.K.kf===p&&this.jk()},remove:function(){Vc.prototype.remove.call(this);this.K.kf===p&&this.jk()}}); function Ah(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},e=a.x,f=a.y;f<b.Vf?(c.top=8,c.all+=c.top):f>b.mi&&(c.bottom=4,c.all+=c.bottom);e>b.li?(c.right=2,c.all+=c.right):e<b.Uf&&(c.left=1,c.all+=c.left);return c} function zh(a,b){if(1>=a.length)return a;var c=a,e=b!==l?b*b:1,f=c.length,g=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(f),i=0,k=f-1,m=[],n=[],o,s,v,w;for(g[i]=g[k]=1;k;){s=0;for(o=i+1;o<k;o++){v=c[o];var y=c[i],z=c[k],B=y.lng,y=y.lat,C=z.lng-B,E=z.lat-y;if(0!==C||0!==E){var F=((v.lng-B)*C+(v.lat-y)*E)/(C*C+E*E);1<F?(B=z.lng,y=z.lat):0<F&&(B+=C*F,y+=E*F)}C=v.lng-B;E=v.lat-y;v=C*C+E*E;v>s&&(w=o,s=v)}s>e&&(g[w]=1,m.push(i,w,w,k));k=m.pop();i=m.pop()}for(o=0;o<f;o++)g[o]&&n.push(c[o]);return n} V(vg,{show:vg.show,hide:vg.$,remove:vg.remove,setPath:vg.le,setPositionAt:vg.Om,setStrokeColor:vg.setStrokeColor,setStrokeWeight:vg.Bp,setStrokeOpacity:vg.zp,setFillOpacity:vg.zt,setStrokeStyle:vg.Ap,setFillColor:vg.setFillColor,getDom:vg.Yc});A.extend(od.prototype,{initialize:function(a){Xc.prototype.initialize.call(this,a);this.AI=[0];this.mr=[0];this.Gl=[0];for(var a=1,b=this.ka,c=b.length;a<c;a++){this.AI[a]=T.uk(b[a],b[a-1]);var e=T.Wa(b[a-1]),f=T.Wa(b[a]);this.mr[a]=90-180*Math.atan2(f.lat-e.lat,f.lng-e.lng)/Math.PI;this.Gl[a]=this.Gl[a-1]+this.AI[a]}this.sS=this.Gl[c-1];this.vv();this.uv={};return this.ba},vv:function(){this.setFillColor("");this.setStrokeColor(this.K.strokeColor);this.Bp(this.K.nc);this.Ap(this.K.strokeStyle);this.zp(this.K.ud)}, mH:function(a){if(!a)return[];for(var b=this.map,c=[],e=0;e<a.length;e++)c.push(b.RY(a[e].mh));return[c].concat(this.DP(c,b.ja(),p))},DP:function(a,b,c){for(var e=this.map,b=b||e.ja(),f=[],g=[],b=c?e.EF(b):rb,c=0;c<a.length;c++)f.push(new R(a[c].x-b,a[c].y)),g.push(new R(a[c].x+b,a[c].y));return[f,g]},Pu:function(a){var b=this.map,c=[],e=b.te(),f=this.te();if(!e.Os(f)||0==a.length||!this.ba||!this.Oc())return[c];!(I()&&5E3<a.length)&&!this.K.kf&&(e=this.lm(b.ja()),this.ef[e]?a=this.ef[e]:(f=zh(a, this.wk(b.ja())),a=this.ef[e]=f));c.push(b.Ye(a[0]));for(var g=e=1,f=a.length;e<f;e++){var i=b.Ye(a[e]);i.Sb(c[g-1])||(c.push(i),g++)}a=[];e=b.offsetX;f=b.offsetY;g=b.M.Gw;b={Uf:-e-g,Vf:-f-g,li:-e+g+b.width,mi:-f+g+b.height};e=0;for(f=c.length-1;e<f;e++){var k=c[e],m=c[e+1],g=b,n=i=t,o=t,k=new R(k.x,k.y),m=new R(m.x,m.y),s=Ah(k,g),v=Ah(m,g),w=l,y=l,z=l,B=g.Uf,C=g.Vf,E=g.li,F=g.mi;do 0===s.all&&0===v.all?o=i=p:0!==(s.all&v.all)?o=p:(w=0!==s.all?s:v,w.top?(y=k.x+(m.x-k.x)*(C-k.y)/(m.y-k.y),z=C):w.bottom? (y=k.x+(m.x-k.x)*(F-k.y)/(m.y-k.y),z=F):w.right?(z=k.y+(m.y-k.y)*(E-k.x)/(m.x-k.x),y=E):w.left&&(z=k.y+(m.y-k.y)*(B-k.x)/(m.x-k.x),y=B),n=p,w.all===s.all)?(k.x=Math.round(y),k.y=Math.round(z),s=Ah(k,g)):(m.x=Math.round(y),m.y=Math.round(z),v=Ah(m,g));while(!o);g=i?{bN:new R(k.x,k.y),cN:new R(m.x,m.y),clip:n?p:t}:l;g&&a.push(g)}c=[[]];e=0;for(f=a.length;e<f;e++)a[e].clip?(c[c.length-1].push(a[e].bN),c[c.length-1].push(a[e].cN),a[e+1]&&a[e+1].clip&&c.push([])):(c[c.length-1].push(a[e].bN),e==a.length- 1&&c[c.length-1].push(a[e].cN));return c},hide:function(){Xc.prototype.$.call(this);if(this.K.fi&&0<this.K.fi.length)for(var a=0,b=this.K.fi.length;a<b;a++)this.K.fi[a].hide()},show:function(){Xc.prototype.show.call(this);if(this.K.fi&&0<this.K.fi.length)for(var a=0,b=this.K.fi.length;a<b;a++)this.K.fi[a].show()},VQ:function(a){var b=this.Vw(),c=b.ja(),e=b.te();icons=this.K.fi;displayPixels=Xc.prototype.Pu.call(this,this.ka);if(this.uv[c]&&0<this.uv[c].length)this.Ri=this.uv[c];else{for(var f=[0], g=1,i=displayPixels[0],k=i.length;g<k;g++)f[g]=f[g-1]+Hb(i[g],i[g-1]);this.Ri=this.uv[c]=f}for(g=0;g<icons.length;g++){var f=icons[g],i=f.Q_,m,n;f.ov[c]&&0<f.ov[c].length?n=f.ov[c]:f.ov[c]=n=f.WP(this);if(1===n.length)e.Mr(n[0].point)&&(f.Uc[0]&&(b.Ob(f.Uc[0]),f.Uc[0].remove()),f.HK||(7===i.Kb||5===i.Kb?i.yp(-180+this.mr[n[0].index]):i.yp(this.mr[n[0].index])),f.Uc[0]=new W(n[0].point,{icon:i}),b.Pa(f.Uc[0]));else if(1<n.length){var o=[],s,v={};if(a&&"onzoomend"===a.type){for(var w in f.Uc)b.Ob(f.Uc[w]), f.Uc[w].remove();f.Uc=[]}else A.jc.Mb(f.Uc,function(a){e.Mr(a.la())?(s=""+a.la().lat+(""+a.la().lng),v[s]=p,o.push(a)):(b.Ob(a),a.remove())}),f.Uc=o;for(w=0;w<n.length;w++){m=n[w].index;var k=n[w].point,y=""+k.lat+(""+k.lng);e.Mr(k)&&!v[y]&&(f.HK||(7===i.Kb||5===i.Kb?i.setRotation(-180+this.mr[m]):i.setRotation(this.mr[m])),k=new W(k,{icon:i}),f.Uc.push(k),b.Pa(k))}}}},kv:function(a){var b=a.currentTarget,c=a.sf,e=b.index,f=this.Sc,g,i=a=q;if(0==e){var k=Ya(f[e+2].zb,this.map.M.Ia);g=[c,k];a=new J((k.lng+ c.lng)/2,(k.lat+c.lat)/2);this.oc[e+1]&&this.oc[e+1].$()}else if(e==f.length-1){var m=Ya(f[e-2].zb,this.map.M.Ia);g=[m,c];a=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2);this.oc[e-1]&&this.oc[e-1].$()}else m=Ya(f[e-1].zb,this.map.M.Ia),k=Ya(f[e+1].zb,this.map.M.Ia),g=[m,c,k],b.ra||(m=Ya(f[e-2].zb,this.map.M.Ia),k=Ya(f[e+2].zb,this.map.M.Ia),g=[m,c,k],a=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2),i=new J((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.oc[e-1]&&this.oc[e-1].$(),this.oc[e+1]&&this.oc[e+1].$());this.Va.aj? (this.Va.aj.le(g),this.Va.aj.show()):(b=new od(g,{strokeStyle:"dashed",strokeColor:this.K.strokeColor,nc:this.K.nc,ud:this.K.ud,iE:this.K.iE}),this.map.Pa(b),b.$(),this.Va.aj=b);!this.Va.si&&a?(this.Va.si=new uh(a,1),this.map.Pa(this.Va.si)):a&&this.Va.si.va(a);!this.Va.oi&&i?(this.Va.oi=new uh(i,1),this.map.Pa(this.Va.oi)):i&&this.Va.oi.va(i)}});A.jc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};A.extend(nd.prototype,{initialize:function(a){Xc.prototype.initialize.call(this,a);this.setStrokeColor(this.K.strokeColor);this.Bp(this.K.nc);this.Ap(this.K.strokeStyle);this.setFillColor(this.K.fillColor);this.zp(this.K.ud);this.zt(this.K.tg);return this.ba},Om:function(a,b){this.bo[a]&&(this.ef.length=0,this.bo[a]=new Q(b.lng,b.lat),this.ka[a]=new Q(b.lng,b.lat),0==a&&!this.ka[0].Sb(this.ka[this.ka.length-1])&&(this.ka[this.ka.length-1]=new Q(b.lng,b.lat)),this.zh(),this.K.kf==p&&(this.jk(),this.Pl()), this.draw(),this.dispatchEvent(new P("onlineupdate")))},vv:function(){this.setStrokeColor(this.K.strokeColor);this.Bp(this.K.nc);this.Ap(this.K.strokeStyle);this.setFillColor(this.K.fillColor);this.zp(this.K.ud);this.zt(this.K.tg)},containPoint:function(a){var b=this.ka,c=t;if(a instanceof Q||a instanceof J){if(this.vu.Mr(a)){for(var e=a.lat,a=a.lng,f=0,g=b.length-1;f<b.length;g=f++){var i=b[f].lat,k=b[f].lng,m=b[g].lat,g=b[g].lng;k>a!=g>a&&e<(m-i)*(a-k)/(g-k)+i&&(c=!c)}return c}return t}},kv:function(a){var b= a.currentTarget,c=a.point,e=b.index,f=this.Sc,g,i=a=q;if(0==e){var k=cb(f[f.length-2].zb,this.map.M.Ia),m=cb(f[e+2].zb,this.map.M.Ia);g=[k,c,m];b.ra||(a=new Q((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new Q((m.lng+c.lng)/2,(m.lat+c.lat)/2))}else e==f.length-1?(m=cb(f[2].zb,this.map.M.Ia),k=cb(f[e-2].zb,this.map.M.Ia),g=[k,c,m],b.ra||(a=new Q((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new Q((m.lng+c.lng)/2,(m.lat+c.lat)/2))):(k=cb(f[e-1].zb,this.map.M.Ia),m=cb(f[e+1].zb,this.map.M.Ia),g=[k,c,m],b.ra||(k=cb(f[e-2].zb, this.map.M.Ia),m=cb(f[e+2].zb,this.map.M.Ia),g=[k,c,m],a=new Q((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new Q((m.lng+c.lng)/2,(m.lat+c.lat)/2),this.oc[e-1]&&this.oc[e-1].$(),this.oc[e+1]&&this.oc[e+1].$()));this.Va.aj?this.Va.aj.le(g):(b=new od(g,{strokeStyle:"dashed",strokeColor:this.K.strokeColor,nc:this.K.nc,ud:this.K.ud}),this.map.Pa(b),this.Va.aj=b);!this.Va.si&&a?(this.Va.si=new uh(a,1),this.map.Pa(this.Va.si)):a&&this.Va.si.va(a);!this.Va.oi&&i?(this.Va.oi=new uh(i,1),this.map.Pa(this.Va.oi)):i&& this.Va.oi.va(i)}});V(xg,{setPositionAt:xg.Om});A.extend(pd.prototype,{initialize:function(a){nd.prototype.initialize.call(this,a);this.ka=this.Ru(this.point,this.Da);this.zh();return this.ba},tf:function(a,b){a&&(this.ef.length=0,b||(this.Sc=q),this.point=a,this.ka=this.Ru(a,this.Da),this.zh(),this.draw(),this.dispatchEvent(new P("onlineupdate")))},uf:function(a,b){isNaN(a)||(this.ef.length=0,b||(this.Sc=q),this.Da=Math.abs(a),this.ka=this.Ru(this.point,this.Da),this.zh(),this.draw(),this.dispatchEvent(new P("onlineupdate")))},wk:function(a){return this.K.wk? this.K.wk(a):pd.xE[this.lm(a)]},kv:function(a){var b,a=a.currentTarget,c=this.Sc;b=c[0].zb;c=c[c.length-1].zb;0==a.index?(b=a.la(),a=c):a=a.la();this.uf(T.uk(Ya(b,this.map.M.Ia),Ya(a,this.map.M.Ia)),p);this.tf(b,p)},EA:function(a){var a=a.currentTarget,b=a.index;this.Sc[0]={zb:this.point,ra:0};1==b&&(this.Sc[1]={zb:a.point,ra:0});this.jk();this.Pl()},tL:function(){if(!this.Sc){var a=[];a.push({zb:this.point,ra:0});a.push({zb:this.ka[Math.floor(3*this.ka.length/4)],ra:0});this.Sc=a}return this.Sc}}); V(wg,{setCenter:wg.tf,setRadius:wg.uf});var yh={ws:function(a){yh["_"+a.ca]||(yh["_"+a.ca]={});switch(a.M.wK){case 1:return yh.mL(a);case 2:return yh.uL(a);case 3:return yh.gD(a)}if(I()&&yh.UL()&&4!==a.M.wK)return yh.gD(a);if(yh.BY())return yh.mL(a);if(yh.CY())return yh.uL(a);if(yh.UL())return yh.gD(a)},mL:function(a){yh["_"+a.ca].TI||(yh["_"+a.ca].TI=new D.tP(a));return yh["_"+a.ca].TI},uL:function(a){yh["_"+a.ca].eJ||(yh["_"+a.ca].eJ=new D.wP(a));return yh["_"+a.ca].eJ},gD:function(a){yh["_"+a.ca].GG||(yh["_"+a.ca].GG=new D.TO(a));return yh["_"+ a.ca].GG},CY:function(){if(Jb(yh.bO))return yh.bO;var a=Ob();return yh.bO=a},BY:function(){Jb(yh.aO)||(yh.aO=Pb());return yh.aO},UL:function(){Jb(yh.$N)||(yh.$N=Qb());return yh.$N}};D.Qp=yh; ');
