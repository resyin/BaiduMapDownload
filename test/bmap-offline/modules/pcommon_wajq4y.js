/**/_jsload2&&_jsload2('pcommon', 'function Xj(a){this.W=a;this.Pv=[];this.Mf=q;this.Hl=new Mc(q,{Se:"api"});this.Wy()}var Yj={none:["-1",""],transit:["0","m_transit.png"],hotel:["1","m_hotel.png"],catering:["2","m_catering.png"],movie:["3","m_movie.png"],transit:["4","m_transit.png"],indoor_scene:["5","m_indoor_scene.png"]};D.Gk(function(a){new Xj(a)}); A.extend(Xj.prototype,{Wy:function(){var a=this;pano=a.W;pano.addEventListener("visible_poi_type_changed",function(b){a.y_(b.visiblePOIType)});pano.addEventListener("position_changed",function(){a.Mf&&a.rI()})},y_:function(a){this.Mf=a;this.rI()},nQ:function(){for(var a=this.Pv.length-1;0<=a;a--)this.W.Ob(this.Pv[a]);this.Pv=[]},rI:function(){this.nQ();if("inter"!==pano.Es()){var a=Yj[this.Mf],b=this.W.la(),c=this.W.Wb(),e=this;this.Hl.FD(b,200,a[0],function(b){var g=e.W.Wb();if(g===c)for(var i=q, i=q,k=0,m=b.length;k<m;k++)if(i=b[k],15>k||i.panoInfo&&i.panoInfo.panoId==g)i=new qf(i.position,{icon:H.sa+"panorama/"+a[1],title:i.title,altitude:i.altitude,panoInfo:i.panoInfo}),e.W.Pa(i),e.Pv.push(i)})}}});function Zj(a,b){this.W=a;this.R=b;this.qq=q;this.Hl=new Mc(q,{Se:"api"});this.IA=[];this.Or();this.HB()}D.Gk(function(a){function b(){var b=a.Es();a.m.indoorSceneSwitchControl==t||"street"==b?c&&c.$():"inter"==b&&(c||(c=new Zj(a,a.R)),c.q0(a.Wb()),c.show())}a.addEventListener("scene_type_changed",b);a.addEventListener("indoor_default_switch_mode_changed",b);var c=q}); A.extend(Zj.prototype,{HB:function(){this.MP();this.Wy()},wp:function(a){function b(){e.W.rd({heading:c.heading,pitch:c.pitch});e.W.removeEventListener("position_changed",b)}var c=this.IA[a];this.W.Cc(c.panoId);var e=this;this.W.addEventListener("position_changed",b)},next:function(){this.wp(++this.qq)},FZ:function(){this.wp(--this.qq)},Or:function(){var a=this.fJ=L("div"),b=a.style;b.position="absolute";b.zIndex="2000";b.width="100%";b.top=b.left="0px";this.R.appendChild(a);this.ig=L("a");this.ig.style.left= "2%";this.ig.href="javascript: void(0);";this.ig.className="pano_switch_left";a.appendChild(this.ig);this.Nh=L("a");this.Nh.style.right="2%";this.ig.href="javascript: void(0);";this.Nh.className="pano_switch_right";I()&&(this.Nh.style.height="34px",this.Nh.style.width="34px",this.Nh.style.borderRadius="17px",this.ig.style.height="34px",this.ig.style.width="34px",this.ig.style.borderRadius="17px");a.appendChild(this.Nh);this.ig.style.top=this.Nh.style.top=this.W.gh().height/2-14+"px"},q0:function(a){var b= this,c=this.W.Wb();this.Hl.bx(a,function(a){var f=b.W.Wb();f===c&&(b.IA=a,b.wO(f))})},$:function(){this.Ua=t;this.fJ.style.display="none"},show:function(){this.Ua=p;this.fJ.style.display="block"},Oc:x("Ua"),wO:function(a){for(var b=this.IA,c=b.length-1;0<=c;c--)b[c].panoId==a&&(this.qq=c);A.U.qc(this.ig,"pano_switch_disable");A.U.qc(this.Nh,"pano_switch_disable");1===this.qq?A.U.hb(this.ig,"pano_switch_disable"):this.qq==b.length-1&&A.U.hb(this.Nh,"pano_switch_disable")},MP:function(){var a=this; ia.V(this.ig,"click",function(b){A.U.Hs(b.target,"pano_switch_disable")||a.FZ()});ia.V(this.Nh,"click",function(b){A.U.Hs(b.target,"pano_switch_disable")||a.next()})},Wy:function(){var a=this,b=a.W;b.addEventListener("position_changed",function(){if(a.Oc()){var c=b.Wb();a.wO(c)}})}});function $j(a){mf.call(this);this.W=a;this.Hl=new Mc(q,{Se:"api"});this.mq={admission:"",photoDate:"",roadName:"",providerUrl:"",providerName:""};this.vr=q;this.fr=[];this.sA=p;this.ya()}D.Gk(function(a){new $j(a)});A.lang.xa($j,mf,"PanoramaCopyright"); A.extend($j.prototype,{ya:function(){this.R=this.Hj(1900);this.W.Ra();this.W.Ra().appendChild(this.R);var a=this;this.Hl.UK(function(b){a.fr=b;a.Fa()});this.ga(this.W);this.W.m.copyrightControlOptions.logoVisible==t&&this.jx()},Fa:function(){var a=this.AR(),b=[];b.push(\'<div style="width: 1000px; overflow:hidden;">\');if(this.sA){b.push(\'<a target="_blank" title="\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b\\u6b64\\u533a\\u57df" href=\'+this.W.QK()+\' style="outline:none;float:left;margin-left:3px">\');var c= H.sa+"copyright_logo.png";I()?(c=H.sa+"copyright_logo_hd.png",b.push("<img style=\'border:none;width:68px;height:25px;vertical-align:bottom;\' src=\'"+c+"\' />")):6==A.fa.na?b.push("<div style=\'float: left;cursor:pointer;width:77px;height:32px;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+")\'></div>"):b.push("<img style=\'border:none;width:77px;height:32px;vertical-align:bottom;\' src=\'"+c+"\' />");b.push("</a>")}b.push(\'<div style="float:left;\');I()?b.push(\'margin-top:8px;font-family:sans-serif;">\'): (b.push("margin-top:13px;"),A.platform.PL?b.push(\'font-family:sans-serif;">\'):b.push(\'">\'));a.roadName&&b.push(\'<span style="margin-left: 5px;">\'+a.roadName+"</span><span>|</span>");a.providerName&&(a.providerUrl?b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span><a style="text-decoration: none;color: rgb(54, 54, 54);" target="_blank" href="\'+a.providerUrl+\'" style="display:inline;">\'+a.providerName+"</a></span>"):b.push(\'<span style="margin-left: 5px;">Data \\u00a9</span><span>\'+a.providerName+ "</span>"));a.admission&&b.push(\'<span style="margin-left: 5px;">\'+a.admission+"</span>");b.push("</div>");b.push("</div>");this.R.innerHTML=b.join("")},Hj:function(a){var b=L("div"),c=b.style;c.overflow="hidden";c.position="absolute";c.bottom=c.left="0";c.zIndex=a||"0";c.width="100%";c.fontSize="11px";c.height=I()?"27px":"34px";c.K5="none";c.WebkitTextSizeAdjust="none";c.WebkitUserSelect="none";c.visibility="hidden";c.fontFamily="sans-serif";c.color="rgb(54, 54, 54)";c.lineHeight="20px";return b}, ga:function(a){var b=this;a.addEventListener("copyright_changed",function(a){a.copyright&&(b.vr=a.copyright,b.Fa())});a.addEventListener("visible_changed",function(){b.R.style.visibility=a.ex()?"visible":"hidden"});a.addEventListener("copyright_options_changed",function(){a.m.copyrightControlOptions.logoVisible==t?b.jx():b.eF()})},AR:function(){if(this.vr){for(var a in this.mq)this.mq[a]=this.vr[a];a=this.yX(this.vr.dataProviderIndex);this.mq.providerName=a.name+this.vr.username;this.mq.providerUrl= a.url}return this.mq},yX:function(a){for(var b={name:"",url:"",id:""},c=this.fr.length-1;0<=c;c--)if(this.fr[c].id==a){var b=this.fr[c],e;for(e in b)b[e]=A.trim(this.fr[c][e])}return b},jx:function(){/baidu\\.com/.test(document.domain)&&(this.sA=t,this.Fa())},eF:function(){this.sA=p;this.Fa()}}); ');
