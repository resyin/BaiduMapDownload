/**/_jsload2&&_jsload2('hotspot', 'D.Ze(function(a){function b(){}function c(){}function e(a){var b=this.aa;b.re=[];if(this.Gh)for(var c in this.Gh)if(!(0==c.indexOf("vector_")&&!this.Od()||0==c.indexOf("tile_")&&this.Od())){var e=this.Gh[c],f;for(f in e){var g=e[f];if(!(g.Ih>this.ja()||g.Gf<this.ja())){var i=this.Qn(g.la());i.x<this.width&&i.y<this.height&&a.offsetX<i.x+g.jv[1]&&(a.offsetX>i.x-g.jv[3]&&a.offsetY>i.y-g.jv[0]&&a.offsetY<i.y+g.jv[2])&&b.re.push(g)}}}}function f(b){if(b.point){var c=a.ja(),e=a.wa().jj().zg(b.point),f= new R(Math.floor(e.x*Math.pow(2,c-18)),Math.floor(e.y*Math.pow(2,c-18))),i=a.Dd.Id(c),e=a.pL(b.point,c),w=a.ca.replace(/^TANGRAM_/,""),y=e.Jm,z=e.Lr,e=f.x-y*i,f=i-(f.y-z*i),w=a.Ei[w+"_"+y+"_"+z+"_"+a.Dd.vs(c)+"_"+c],c=[];if(w){for(var B in w.polygon)g([e,f],w.polygon[B].gF)&&c.push(w.polygon[B]);for(B in w.polyline){for(var C=[e,f],y=w.polyline[B].gF,i=5+w.polyline[B].style[0].GK,z=C[0],C=C[1],E=t,F=0,G=y.length-3;F<G;F+=2){var K;var O=y[F];K=y[F+1];var M=y[F+2],S=y[F+3],ca=O-M,Z=K-S,ca=ca*ca+Z*Z; ca>k?(Z=((K-C)*(K-S)-(O-z)*(M-O))/ca,1<Z||0>Z?(O=z-O,M=z-M,K=C-K,S=C-S,K=O*O+K*K,S=M*M+S*S,K=K<S?Math.sqrt(K):Math.sqrt(S)):K=Math.abs(((K-C)*-(O-M)-(O-z)*(S-K))/Math.sqrt(ca))):(S=z-O,K=C-K,K=Math.sqrt(S*S+K*K));if(i>K){E=p;break}}E&&c.push(w.polyline[B])}}e=a.Ei.AZ;b=a.yc(b.point);if(e)for(B in e.polygon)g([b.x,b.y],e.polygon[B].gF)&&c.push(e.Z4[B]);return c}}function g(a,b){for(var c=a[0],e=a[1],f=t,g=0,i=b.length-2;g<b.length;g+=2){var k=b[g],B=b[g+1],C=b[i],i=b[i+1];B>e!==i>e&&c<(C-k)*(e-B)/ (i-B)+k&&(f=!f);i=g}return f}function i(){a.aa.nK&&0<a.aa.re.length?(a.platform.style.cursor="pointer",a.aa.nK=t):(a.aa.re=[],a.platform.style.cursor=a.M.wc)}a.aa.Ot=new cd("",{Ea:new N(15,-3),Gp:{border:"1px solid #aaa",background:"#fffec2",whiteSpace:"nowrap",font:"12px "+H.fontFamily,mozBoxShadow:"1px 2px 6px #666",webkitBoxShadow:"1px 2px 6px #666",boxShadow:"1px 2px 6px #666",padding:"2px 4px"}});if(!a.M||!a.M.Ss){var k=0.01;a.addEventListener("movestart",b);a.addEventListener("moveend",c);a.addEventListener("zoomstart", b);a.addEventListener("zoomend",function(){setTimeout(c,30)});a.addEventListener("mousemove",function(b){if(!(b.tb&&!(b.tb instanceof Xc)||b.Db)){var c=this.aa,f=c.re.slice(0);e.call(this,b);for(var g=c.re.slice(0),i=0;i<f.length;i++)for(var k=0;k<g.length;k++)f[i]===g[k]&&(f.splice(i,1),i--,g.splice(k,1),k--);if(0<f.length){var y=new P("onhotspotout");y.spots=f.slice(0);this.dispatchEvent(y)}if(0==c.re.length&&!c.n4)this.platform.style.cursor!=this.M.wc&&(this.platform.style.cursor=this.M.wc),c.Ep&& (clearTimeout(c.Ep),c.Ep=q),c.iF=setTimeout(function(){c.Ot.$()},400);else if(0<g.length&&(this.platform.style.cursor="pointer",y=new P("onhotspotover"),y.spots=g.slice(0),this.dispatchEvent(y),c.Ep&&(clearTimeout(c.Ep),c.Ep=q),c.iF&&(clearTimeout(c.iF),c.iF=q),y.spots[0].zD()))c.Ep=setTimeout(function(){c.Ot.bd(y.spots[0].zD());c.Ot.va(b.point);c.Ot.show();a.Pa(c.Ot)},400)}});a.addEventListener("clickex",function(a){var b=this.aa;a.overlay||(0==b.re.length&&e.call(this,a),0<b.re.length&&(a=new P("onhotspotclick"), a.spots=b.re.slice(0),a.spots.sort(function(a,b){return a.la().lat-b.la().lat}),this.dispatchEvent(a),b.re.length=0))});a.addEventListener("rightclickex",function(a){if(this.M.ok||this.M.yo){var b=this.aa;if(!a.overlay&&a.point){var c=[];if(0<b.re.length){var e=b.re.slice(0);e.sort(function(a,b){return a.la().lat-b.la().lat});for(var g in e)c.push(e[g].oB);b.re.length=0}b=f(a);c=c.concat(b);b=[];for(g in c)0>b.indexOf(c[g].Vb)&&b.push(c[g].Vb);g=new P("onhotspotrightclick");g.styles=c;g.styleIds= b;g.point=a.point;this.dispatchEvent(g)}}});a.addEventListener("load",i);a.addEventListener("moveend",i);a.addEventListener("zoomend",i);a.addEventListener("dragend",function(){this.aa.nK=p})}}); ');
